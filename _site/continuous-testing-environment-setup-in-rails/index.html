<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Super Fast Continuous Testing in Rails &mdash; Simple, Not Easy</title>
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700|Oswald" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/assets/main.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/images/logo.jpg"/>
    <link href="/feed.xml" rel="alternate" type="application/rss+xml" title="Simple, Not Easy" />
    <meta name="title" content=" Super Fast Continuous Testing in Rails ">
    <link rel="canonical" href="/continuous-testing-environment-setup-in-rails">
     
    <link rel="author" href="https://plus.google.com/118230970865161551961">       
    <meta property="og:title" content=" Super Fast Continuous Testing in Rails "/>
    <meta property="og:url" content="/continuous-testing-environment-setup-in-rails"/>
    
    
    <meta property="og:description" content="My understanding of continuous testing is that, there is a testing tool in the background, which while developing and modifying code, it will continuously notify you the broken of correct code. I usually set up the testing environment using `RSpec`, `Spork` and `Guard`. The setup process may easily go wrong. Thus I made a note of the process."/>
    <meta name="description" content="My understanding of continuous testing is that, there is a testing tool in the background, which while developing and modifying code, it will continuously notify you the broken of correct code. I usually set up the testing environment using `RSpec`, `Spork` and `Guard`. The setup process may easily go wrong. Thus I made a note of the process."/>
    
    <meta property="og:site_name" content="Simple, Not Easy">     
</head>
<body>
    
<section class="site-nav">
    <header>
        <nav id="navigation" role="navigation" itemscope itemtype="http://schema.org/SiteNavigationElement">
            <a class="brand" href="/">
                <img src="/images/logo.jpg" alt="Inc">
            </a>
            <a href="/">Blog</a>
            
              <a href="/archives.html" >Archives</a>
            
              <a href="/about.html" >About</a>
            
              <a href="/tags.html" >Tags</a>
            
            <i class="icon-feed"></i> <a href="/feed.xml" title="Atom/RSS feed">Feed</a>
        </nav>

    </header>
</section>


<article>

    <div class="container">
        <header>
            <h1 class="title"> Super Fast Continuous Testing in Rails</h1>
            <h3 class="subtitle">An intruduction to set up a good testing environment in Ruby on Rails 4</h3>
            <div class="meta">
                <time pubdate datetime="2013-28-November" title="November 28, 2013">November 28, 2013</time>
            </div>
            <div class="tags">
              <a href="/tags/testing.html" rel="tag">testing</a> <a href="/tags/rails.html" rel="tag">rails</a> <a href="/tags/ci.html" rel="tag">ci</a> <a href="/tags/rspec.html" rel="tag">rspec</a> <a href="/tags/ruby.html" rel="tag">ruby</a>
            </div>
        </header>

        <section>
            <p><img src="http://www.continuoustests.com/images/logo.png" alt="" /></p>

<blockquote>
  <p>Before reading the article, you need to have a understanding of <code>RSpec</code></p>
</blockquote>

<p>My understanding of continuous testing is that, there is a testing tool in the background, which while developing and modifying code, it will continuously notify you the broken of correct code. I usually set up the testing environment using <code>RSpec</code>, <code>Spork</code> and <code>Guard</code>. The setup process may easily go wrong. Thus I made a note of the process.</p>

<h2 id="the-tools-we-use">The tools we use</h2>

<p>There are some tools we need to make testing <strong>super fast</strong>.</p>

<ul>
  <li><code>RSpec</code>: famous testing framework, complies to BDD concept.</li>
  <li><code>Spork</code>: When use <code>rspec</code> command to run <code>RSpec</code>, it will load the whole Rails environment every time. <code>Spork</code> keeps one Rails environment running behind, to run test suite using that environment, and not close it after running, to make testing with <code>RSpec</code> faster. </li>
  <li><code>Guard</code>: to guard the file change in Rails project.</li>
  <li><code>Zeus</code>: a tool to re-use the Rails environment in development environment, but also can be used in testing.</li>
</ul>

<p>To achieve continuous testing, <code>Guard</code> will watch the changes in the project, and re-run the updated test cases or all the related.</p>

<p>Some of the gems I also use in testing:</p>

<ul>
  <li><code>factory_girl_rails</code>: a mocking tool by Thoughtbot. One notice is that avoid using associates with it a lot</li>
  <li><code>ffaker</code>: an much faster alternative to <code>Faker</code>, which generates fake data, such as company name, content, etc..</li>
</ul>

<h2 id="set-up-instructions">Set up instructions</h2>

<p>Starting from a fresh Rails 4 application, <span class="red">after creating the database(very important)</span>, add there gems to your <code>Gemfile</code>:</p>

<div class="highlight"><pre><code class="ruby"><span class="n">group</span> <span class="ss">:development</span><span class="p">,</span> <span class="ss">:test</span> <span class="k">do</span>
  <span class="n">gem</span> <span class="s1">&#39;rspec-rails&#39;</span>
  <span class="n">gem</span> <span class="s1">&#39;guard-zeus&#39;</span>
  <span class="n">gem</span> <span class="s1">&#39;guard-spork&#39;</span>
  <span class="n">gem</span> <span class="s1">&#39;guard-rspec&#39;</span>
  <span class="n">gem</span> <span class="s1">&#39;guard-cucumber&#39;</span>
  <span class="n">gem</span> <span class="s1">&#39;spork-rails&#39;</span><span class="p">,</span> <span class="ss">github</span><span class="p">:</span> <span class="s1">&#39;sporkrb/spork-rails&#39;</span>
  <span class="n">gem</span> <span class="s1">&#39;childprocess&#39;</span>
  <span class="n">gem</span> <span class="s1">&#39;capybara&#39;</span>
  <span class="n">gem</span> <span class="s1">&#39;factory_girl_rails&#39;</span>
  <span class="n">gem</span> <span class="s1">&#39;rb-fsevent&#39;</span>
<span class="k">end</span>

<span class="n">group</span> <span class="ss">:test</span> <span class="k">do</span>
  <span class="c1"># if you need cucumber, uncomment these two lines</span>
  <span class="c1"># gem &#39;cucumber-rails&#39;, require: false</span>
  <span class="c1"># gem &#39;cucumber&#39;, &#39;1.2.5&#39;</span>
  <span class="n">gem</span> <span class="s1">&#39;database_cleaner&#39;</span>
  <span class="n">gem</span> <span class="s1">&#39;email_spec&#39;</span>
  <span class="n">gem</span> <span class="s1">&#39;ffaker&#39;</span>
<span class="k">end</span>
</code></pre></div>

<p>Then run these command in shell:</p>

<pre><code>rails g rspec:isntall
spork rspec --bootstrap
guard init spork
guard init rspec
</code></pre>

<p>It will install <code>RSpec</code>, <code>Spork</code> and <code>Guard</code>.</p>

<p>Next step is to configure <code>Spork</code>. Edit your <code>spec/spec_hepler.rb</code> file, like this:</p>

<div class="highlight"><pre><code class="ruby"><span class="nb">require</span> <span class="s1">&#39;rubygems&#39;</span>
<span class="nb">require</span> <span class="s1">&#39;spork&#39;</span>
<span class="c1">#uncomment the following line to use spork with the debugger</span>
<span class="c1">#require &#39;spork/ext/ruby-debug&#39;</span>

<span class="no">Spork</span><span class="o">.</span><span class="n">prefork</span> <span class="k">do</span>
  <span class="c1"># Loading more in this block will cause your tests to run faster. However,</span>
  <span class="c1"># if you change any configuration or code from libraries loaded here, you&#39;ll</span>
  <span class="c1"># need to restart spork for it take effect.</span>

  <span class="c1"># This file is copied to spec/ when you run &#39;rails generate rspec:install&#39;</span>
  <span class="no">ENV</span><span class="o">[</span><span class="s2">&quot;RAILS_ENV&quot;</span><span class="o">]</span> <span class="o">||=</span> <span class="s1">&#39;test&#39;</span>
  <span class="nb">require</span> <span class="no">File</span><span class="o">.</span><span class="n">expand_path</span><span class="p">(</span><span class="s2">&quot;../../config/environment&quot;</span><span class="p">,</span> <span class="bp">__FILE__</span><span class="p">)</span>
  <span class="nb">require</span> <span class="s1">&#39;rspec/rails&#39;</span>
  <span class="c1"># require &#39;rspec/autorun&#39;</span>

  <span class="c1"># Requires supporting ruby files with custom matchers and macros, etc,</span>
  <span class="c1"># in spec/support/ and its subdirectories.</span>
  <span class="no">Dir</span><span class="o">[</span><span class="no">Rails</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;spec/support/**/*.rb&quot;</span><span class="p">)</span><span class="o">].</span><span class="n">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="nb">require</span> <span class="n">f</span> <span class="p">}</span>

  <span class="c1"># Checks for pending migrations before tests are run.</span>
  <span class="c1"># If you are not using ActiveRecord, you can remove this line.</span>
  <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Migration</span><span class="o">.</span><span class="n">check_pending!</span> <span class="k">if</span> <span class="n">defined?</span><span class="p">(</span><span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Migration</span><span class="p">)</span>

<span class="k">end</span>

<span class="no">Spork</span><span class="o">.</span><span class="n">each_run</span> <span class="k">do</span>
  <span class="c1"># This code will be run each time you run your specs.</span>

<span class="k">end</span>

<span class="no">RSpec</span><span class="o">.</span><span class="n">configure</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="nb">require</span> <span class="s1">&#39;email_spec&#39;</span>
  <span class="n">config</span><span class="o">.</span><span class="n">include</span><span class="p">(</span><span class="no">EmailSpec</span><span class="o">::</span><span class="no">Helpers</span><span class="p">)</span>
  <span class="n">config</span><span class="o">.</span><span class="n">include</span><span class="p">(</span><span class="no">EmailSpec</span><span class="o">::</span><span class="no">Matchers</span><span class="p">)</span>

  <span class="c1"># Include FactoryGirl syntax</span>
  <span class="n">config</span><span class="o">.</span><span class="n">include</span> <span class="no">FactoryGirl</span><span class="o">::</span><span class="no">Syntax</span><span class="o">::</span><span class="no">Methods</span>

  <span class="c1"># ## Mock Framework</span>
  <span class="c1">#</span>
  <span class="c1"># If you prefer to use mocha, flexmock or RR, uncomment the appropriate line:</span>
  <span class="c1">#</span>
  <span class="c1"># config.mock_with :mocha</span>
  <span class="c1"># config.mock_with :flexmock</span>
  <span class="c1"># config.mock_with :rr</span>

  <span class="c1"># Remove this line if you&#39;re not using ActiveRecord or ActiveRecord fixtures</span>
  <span class="n">config</span><span class="o">.</span><span class="n">fixture_path</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="o">::</span><span class="no">Rails</span><span class="o">.</span><span class="n">root</span><span class="si">}</span><span class="s2">/spec/fixtures&quot;</span>

  <span class="c1"># If you&#39;re not using ActiveRecord, or you&#39;d prefer not to run each of your</span>
  <span class="c1"># examples within a transaction, remove the following line or assign false</span>
  <span class="c1"># instead of true.</span>
  <span class="n">config</span><span class="o">.</span><span class="n">use_transactional_fixtures</span> <span class="o">=</span> <span class="kp">true</span>

  <span class="c1"># If true, the base class of anonymous controllers will be inferred</span>
  <span class="c1"># automatically. This will be the default behavior in future versions of</span>
  <span class="c1"># rspec-rails.</span>
  <span class="n">config</span><span class="o">.</span><span class="n">infer_base_class_for_anonymous_controllers</span> <span class="o">=</span> <span class="kp">false</span>

  <span class="c1"># Run specs in random order to surface order dependencies. If you find an</span>
  <span class="c1"># order dependency and want to debug it, you can fix the order by providing</span>
  <span class="c1"># the seed, which is printed after each run.</span>
  <span class="c1">#     --seed 1234</span>
  <span class="n">config</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="s2">&quot;random&quot;</span>
<span class="k">end</span>
</code></pre></div>

<p>This piece of code makes <code>Spork</code> to load the Rails environment when starting. </p>

<p>Next, edit <code>Guardfile</code> a little bit. I will paste my <code>Guardfile</code> here:</p>

<div class="highlight"><pre><code class="ruby"><span class="n">guard</span> <span class="s1">&#39;spork&#39;</span><span class="p">,</span> <span class="ss">:cucumber_env</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="s1">&#39;RAILS_ENV&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;test&#39;</span> <span class="p">},</span> <span class="ss">:rspec_env</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="s1">&#39;RAILS_ENV&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;test&#39;</span> <span class="p">}</span> <span class="k">do</span>
  <span class="n">watch</span><span class="p">(</span><span class="s1">&#39;config/application.rb&#39;</span><span class="p">)</span>
  <span class="n">watch</span><span class="p">(</span><span class="s1">&#39;config/environment.rb&#39;</span><span class="p">)</span>
  <span class="n">watch</span><span class="p">(</span><span class="s1">&#39;config/environments/test.rb&#39;</span><span class="p">)</span>
  <span class="n">watch</span><span class="p">(</span><span class="sr">%r{^config/initializers/.+\.rb$}</span><span class="p">)</span>
  <span class="n">watch</span><span class="p">(</span><span class="s1">&#39;Gemfile.lock&#39;</span><span class="p">)</span>
  <span class="n">watch</span><span class="p">(</span><span class="s1">&#39;spec/spec_helper.rb&#39;</span><span class="p">)</span> <span class="p">{</span> <span class="ss">:rspec</span> <span class="p">}</span>
  <span class="n">watch</span><span class="p">(</span><span class="s1">&#39;test/test_helper.rb&#39;</span><span class="p">)</span> <span class="p">{</span> <span class="ss">:test_unit</span> <span class="p">}</span>
  <span class="n">watch</span><span class="p">(</span><span class="sr">%r{features/support/}</span><span class="p">)</span> <span class="p">{</span> <span class="ss">:cucumber</span> <span class="p">}</span>
<span class="k">end</span>

<span class="n">guard</span> <span class="ss">:rspec</span><span class="p">,</span> <span class="ss">cmd</span><span class="p">:</span> <span class="s1">&#39;zeus rspec --color --format documentation --fail-fast&#39;</span> <span class="k">do</span>
  <span class="n">watch</span><span class="p">(</span><span class="sr">%r{^spec/.+_spec\.rb$}</span><span class="p">)</span>
  <span class="n">watch</span><span class="p">(</span><span class="sr">%r{^lib/(.+)\.rb$}</span><span class="p">)</span>     <span class="p">{</span> <span class="o">|</span><span class="n">m</span><span class="o">|</span> <span class="s2">&quot;spec/lib/</span><span class="si">#{</span><span class="n">m</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="si">}</span><span class="s2">_spec.rb&quot;</span> <span class="p">}</span>
  <span class="n">watch</span><span class="p">(</span><span class="s1">&#39;spec/spec_helper.rb&#39;</span><span class="p">)</span>  <span class="p">{</span> <span class="s2">&quot;spec&quot;</span> <span class="p">}</span>

  <span class="c1"># Rails example</span>
  <span class="n">watch</span><span class="p">(</span><span class="sr">%r{^app/(.+)\.rb$}</span><span class="p">)</span>                           <span class="p">{</span> <span class="o">|</span><span class="n">m</span><span class="o">|</span> <span class="s2">&quot;spec/</span><span class="si">#{</span><span class="n">m</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="si">}</span><span class="s2">_spec.rb&quot;</span> <span class="p">}</span>
  <span class="n">watch</span><span class="p">(</span><span class="sr">%r{^app/(.*)(\.erb|\.haml|\.slim)$}</span><span class="p">)</span>          <span class="p">{</span> <span class="o">|</span><span class="n">m</span><span class="o">|</span> <span class="s2">&quot;spec/</span><span class="si">#{</span><span class="n">m</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="si">}#{</span><span class="n">m</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="si">}</span><span class="s2">_spec.rb&quot;</span> <span class="p">}</span>
  <span class="n">watch</span><span class="p">(</span><span class="sr">%r{^app/controllers/(.+)_(controller)\.rb$}</span><span class="p">)</span>  <span class="p">{</span> <span class="o">|</span><span class="n">m</span><span class="o">|</span> <span class="o">[</span><span class="s2">&quot;spec/routing/</span><span class="si">#{</span><span class="n">m</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="si">}</span><span class="s2">_routing_spec.rb&quot;</span><span class="p">,</span> <span class="s2">&quot;spec/</span><span class="si">#{</span><span class="n">m</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="si">}</span><span class="s2">s/</span><span class="si">#{</span><span class="n">m</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="si">}</span><span class="s2">_</span><span class="si">#{</span><span class="n">m</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="si">}</span><span class="s2">_spec.rb&quot;</span><span class="p">,</span> <span class="s2">&quot;spec/acceptance/</span><span class="si">#{</span><span class="n">m</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="si">}</span><span class="s2">_spec.rb&quot;</span><span class="o">]</span> <span class="p">}</span>
  <span class="n">watch</span><span class="p">(</span><span class="sr">%r{^spec/support/(.+)\.rb$}</span><span class="p">)</span>                  <span class="p">{</span> <span class="s2">&quot;spec&quot;</span> <span class="p">}</span>
  <span class="n">watch</span><span class="p">(</span><span class="s1">&#39;config/routes.rb&#39;</span><span class="p">)</span>                           <span class="p">{</span> <span class="s2">&quot;spec/routing&quot;</span> <span class="p">}</span>
  <span class="n">watch</span><span class="p">(</span><span class="s1">&#39;app/controllers/application_controller.rb&#39;</span><span class="p">)</span>  <span class="p">{</span> <span class="s2">&quot;spec/controllers&quot;</span> <span class="p">}</span>

  <span class="c1"># Capybara features specs</span>
  <span class="n">watch</span><span class="p">(</span><span class="sr">%r{^app/views/(.+)/.*\.(erb|haml|slim)$}</span><span class="p">)</span>     <span class="p">{</span> <span class="o">|</span><span class="n">m</span><span class="o">|</span> <span class="s2">&quot;spec/features/</span><span class="si">#{</span><span class="n">m</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="si">}</span><span class="s2">_spec.rb&quot;</span> <span class="p">}</span>

  <span class="c1"># Turnip features and steps</span>
  <span class="n">watch</span><span class="p">(</span><span class="sr">%r{^spec/acceptance/(.+)\.feature$}</span><span class="p">)</span>
  <span class="n">watch</span><span class="p">(</span><span class="sr">%r{^spec/acceptance/steps/(.+)_steps\.rb$}</span><span class="p">)</span>   <span class="p">{</span> <span class="o">|</span><span class="n">m</span><span class="o">|</span> <span class="no">Dir</span><span class="o">[</span><span class="no">File</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;**/</span><span class="si">#{</span><span class="n">m</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="si">}</span><span class="s2">.feature&quot;</span><span class="p">)</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">||</span> <span class="s1">&#39;spec/acceptance&#39;</span> <span class="p">}</span>
<span class="k">end</span>
</code></pre></div>

<h2 id="running-the-tests">Running the tests</h2>

<p>Finally, let’s test. Run <code>guard</code> to start the testing. Once the files being watched by <code>guard</code> updated, it will re-run the tests. Super fast. </p>

<h3 id="even-faster-testing-environment-updated-at-dec-5th-2013">Even faster testing environment (updated at Dec 5th, 2013)</h3>

<p>A super-fast way is to add <a href="https://github.com/burke/zeus">zeus</a> to our current environment. </p>

<blockquote>
  <p>There are a lot of usage of <code>zeus</code>. Some of my favorites are <code>zeus s</code>, <code>zeus c</code>, <code>zeus rake ...</code>. It really improves the developing speed.</p>
</blockquote>

<p>To integrate with <code>zeus</code>, let’s edit several files. </p>

<ol>
  <li>Add <code>gem 'guard-zeus'</code> in to your <code>Gemfile</code>.</li>
  <li>Comment out <code>require 'rspec/autorun'</code> in <code>spec/spec_helper</code>. It does not work well with <code>factory_girl</code></li>
  <li>Change the line in <code>Guardfile</code>, <code>guard :rspec, cmd: "zeus rspec --color --format documentation --fail-fast" do</code></li>
</ol>

<p>Now, when you test using <code>guard</code>, the re-run speed is largely improved.</p>


            
<div class="social">
    <div>
        <a href="https://twitter.com/share" class="twitter-share-button"  data-text=" Super Fast Continuous Testing in Rails" data-related="allenlsy">Tweet</a>
    </div>
    
    
    <div>
        <div class="fb-like" data-width="150" data-layout="button_count" data-action="like" data-show-faces="true" data-send="false"></div>
    </div>
    
    
    <div>
        <div class="g-plusone" data-size="medium"></div>
    </div>
    
    
    
    <div>
        <a href="http://news.ycombinator.com/submit" class="hn-share-button">Vote on HN</a>
    </div>
    
</div>

        </section>
        
        <section>
            <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'allenlsy'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
        </section>
        
    </div>
</article>


<footer class="site-footer">
    <div class="container">
      &copy; 2013 &nbsp;  
        
        <nav>
            <a href="/">Blog</a> &middot;
            
            
        </nav>
        
        <nav class="social">
            
            <a href="https://twitter.com/allenlsy" title="Follow on Twitter" target="_blank"><i class="icon icon-twitter black"></i></a>
            
            
            <a href="http://facebook.com/allenlsy" title="Follow on Facebook" target="_blank"><i class="icon icon-facebook black"></i></a>
                
            <a href="/feed.xml" title="RSS Feed">
                <i class="icon icon-rss black"></i>
            </a>
        </nav>
    </div>
</footer>

<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script src="/assets/main.js"></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=253595308025739";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
<script>
    (function(d, t) {
        var g = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        g.src = '//hnbutton.appspot.com/static/hn.min.js';
        s.parentNode.insertBefore(g, s);
    }(document, 'script'));
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-24647338-1', '');
  ga('send', 'pageview');
</script>

</body>
</html>
